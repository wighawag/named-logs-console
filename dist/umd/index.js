!function(e){if("object"==typeof module&&"object"==typeof module.exports){var l=e(require,exports);void 0!==l&&(module.exports=l)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}((function(e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.hookup=l.replaceConsole=l.logs=void 0;const t=e("named-logs"),o=()=>{},s="undefined"!=typeof window?window:globalThis,r=s.console,n=[],g=[];function a(e,t,s,n){return t.enabled&&(t.level>=n||l.logs.level>=n)?s<=n||l.logs.traceLevel<=n?r.trace.bind(r):e.bind(r):o}const c={};l.logs=e=>{let t=c[e];if(t)return t;let o=l.logs.level,s=l.logs.traceLevel;return t=c[e]={get assert(){return a(r.assert,t,s,1)},get error(){return a(r.error,t,s,1)},get warn(){return a(r.warn,t,s,2)},get info(){return a(r.info,t,s,3)},get log(){return a(r.log,t,s,4)},get debug(){return a(r.debug,t,s,5)},get trace(){return a(r.trace,t,s,6)},get dir(){return a(r.dir,t,s,5)},get table(){return a(r.table||r.debug,t,s,5)},get level(){return o},set level(e){o=e},get traceLevel(){return s},set traceLevel(e){s=e},enabled:d(e,{disabledRegexps:n,enabledRegexps:g})}};const i={error:1,warn:2,info:3,log:4,debug:5,trace:6};function d(e,{disabledRegexps:l,enabledRegexps:t}){if("*"===e[e.length-1])return!0;let o,s;for(o=0,s=l.length;o<s;o++)if(l[o].test(e))return!1;for(o=0,s=t.length;o<s;o++)if(t[o].test(e))return!0;return!1}function p(e,{disabledRegexps:l,enabledRegexps:t},o){const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(let o=0;o<r;o++)s[o]&&("-"===(e=s[o].replace(/\*/g,".*?"))[0]?l.push(new RegExp("^"+e.substr(1)+"$")):t.push(new RegExp("^"+e+"$")));for(const e of Object.keys(c))o(e,d(e,{disabledRegexps:l,enabledRegexps:t}))}if(l.logs.level=2,l.logs.traceLevel=6,l.logs.setTraceLevelFor=(e,l)=>{p(e||"*",{disabledRegexps:[],enabledRegexps:[]},((e,t)=>{t&&(c[e].traceLevel=l)}))},l.logs.disable=()=>{n.splice(0,n.length),g.splice(0,g.length);for(const e of Object.keys(c))c[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},l.logs.enable=e=>{n.splice(0,n.length),g.splice(0,g.length),p(e=""===e?"*":e||"*",{disabledRegexps:n,enabledRegexps:g},((e,l)=>c[e].enabled=l));try{localStorage.setItem("debug",e)}catch(e){}},l.replaceConsole=function(e="console"){const t=l.logs(e);return s.console=Object.assign(Object.assign({},t),{clear:r.clear.bind(r),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,time:o,timeEnd:o,timeLog:o,timeStamp:o,profile:o,profileEnd:o}),r},l.hookup=function(){t.hook(l.logs)},"undefined"!=typeof localStorage)try{const e=localStorage.getItem("debug");e&&""!==e&&l.logs.enable(e)}catch(e){}else if("undefined"!=typeof process){let e=process.env.NAMED_LOGS;e?l.logs.enable(e):l.logs.disable(),e=process.env.NAMED_LOGS_LEVEL,e&&(l.logs.level=i[e]||parseInt(e)||l.logs.level),e=process.env.NAMED_LOGS_TRACE_LEVEL,e&&(l.logs.traceLevel=i[e]||parseInt(e)||l.logs.level)}const u=s.location?s.location.search.slice(1).split("&"):[];for(const e of u)if(e.startsWith("debug=")){const t=e.slice(6);""===t?l.logs.disable():l.logs.enable(t)}else if(e.startsWith("log=")){const t=e.slice(4);l.logs.level=i[t]||parseInt(t)||l.logs.level}else if(e.startsWith("trace=")){const t=e.slice(6);l.logs.traceLevel=i[t]||parseInt(t)||l.logs.level}void 0!==typeof window?window._logFactory=l.logs:void 0!==typeof global&&(global._logFactory=l.logs)}));