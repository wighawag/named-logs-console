!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=t.replaceConsole=t.logs=void 0;const l=e("named-logs"),o=()=>{},s="undefined"!=typeof window?window:globalThis,n=s.console,r=[],g=[];function i(e,l,s,r){return l.enabled&&(l.level>=r||t.logs.level>=r)?s<=r||t.logs.traceLevel<=r?n.trace.bind(n):e.bind(n):o}const a={};function c(e){process.stdout.write(e)}t.logs=e=>{let l=a[e];if(l)return l;let o=t.logs.level,s=t.logs.traceLevel;return l=a[e]={get assert(){return i(n.assert,l,s,1)},get error(){return i(n.error,l,s,1)},get warn(){return i(n.warn,l,s,2)},get info(){return i(n.info,l,s,3)},get write(){return"undefined"!=typeof process?i(c,l,s,3):i(n.info,l,s,3)},get log(){return i(n.log,l,s,4)},get debug(){return i(n.debug,l,s,5)},get trace(){return i(n.trace,l,s,6)},get dir(){return i(n.dir,l,s,5)},get table(){return i(n.table||n.debug,l,s,5)},get level(){return o},set level(e){o=e},get traceLevel(){return s},set traceLevel(e){s=e},enabled:u(e,{disabledRegexps:r,enabledRegexps:g})}};const d={error:1,warn:2,info:3,log:4,debug:5,trace:6};function u(e,{disabledRegexps:t,enabledRegexps:l}){if("*"===e[e.length-1])return!0;let o,s;for(o=0,s=t.length;o<s;o++)if(t[o].test(e))return!1;for(o=0,s=l.length;o<s;o++)if(l[o].test(e))return!0;return!1}function p(e,{disabledRegexps:t,enabledRegexps:l},o){const s=("string"==typeof e?e:"").split(/[\s,]+/),n=s.length;for(let o=0;o<n;o++)s[o]&&("-"===(e=s[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):l.push(new RegExp("^"+e+"$")));for(const e of Object.keys(a))o(e,u(e,{disabledRegexps:t,enabledRegexps:l}))}if(t.logs.level=2,t.logs.traceLevel=6,t.logs.setTraceLevelFor=(e,t)=>{p(e||"*",{disabledRegexps:[],enabledRegexps:[]},((e,l)=>{l&&(a[e].traceLevel=t)}))},t.logs.disable=()=>{r.splice(0,r.length),g.splice(0,g.length);for(const e of Object.keys(a))a[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.logs.enable=e=>{r.splice(0,r.length),g.splice(0,g.length),p(e=""===e?"*":e||"*",{disabledRegexps:r,enabledRegexps:g},((e,t)=>a[e].enabled=t));try{localStorage.setItem("debug",e)}catch(e){}},t.replaceConsole=function(e="console"){const l=t.logs(e);return s.console=Object.assign(Object.assign({},l),{clear:n.clear.bind(n),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,time:o,timeEnd:o,timeLog:o,timeStamp:o,profile:o,profileEnd:o}),n},t.hookup=function(){l.hook(t.logs)},"undefined"!=typeof localStorage)try{const e=localStorage.getItem("debug");e&&""!==e&&t.logs.enable(e)}catch(e){}else if("undefined"!=typeof process){let e=process.env.NAMED_LOGS;e?t.logs.enable(e):t.logs.disable(),e=process.env.NAMED_LOGS_LEVEL,e&&(t.logs.level=d[e]||parseInt(e)||t.logs.level),e=process.env.NAMED_LOGS_TRACE_LEVEL,e&&(t.logs.traceLevel=d[e]||parseInt(e)||t.logs.level)}const f=s.location?s.location.search.slice(1).split("&"):[];for(const e of f)if(e.startsWith("debug=")){const l=e.slice(6);""===l?t.logs.disable():t.logs.enable(l)}else if(e.startsWith("log=")){const l=e.slice(4);t.logs.level=d[l]||parseInt(l)||t.logs.level}else if(e.startsWith("trace=")){const l=e.slice(6);t.logs.traceLevel=d[l]||parseInt(l)||t.logs.level}"undefined"!=typeof window?window._logFactory=t.logs:"undefined"!=typeof global&&(global._logFactory=t.logs)}));