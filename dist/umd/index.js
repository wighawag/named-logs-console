!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=t.replaceConsole=t.logs=void 0;const l=e("named-logs"),o=()=>{},s="undefined"!=typeof window?window:globalThis,r=s.console,n=[],g=[];function a(e,l,s,n){return l.enabled&&(l.level>=n||t.logs.level>=n)?s<=n||t.logs.traceLevel<=n?r.trace.bind(r):e.bind(r):o}const c={};t.logs=e=>{let l=c[e];if(l)return l;let o=t.logs.level,s=t.logs.traceLevel;return l=c[e]={get assert(){return a(r.assert,l,s,1)},get error(){return a(r.error,l,s,1)},get warn(){return a(r.warn,l,s,2)},get info(){return a(r.info,l,s,3)},get log(){return a(r.log,l,s,4)},get debug(){return a(r.debug,l,s,5)},get trace(){return a(r.trace,l,s,6)},get dir(){return a(r.dir,l,s,5)},get table(){return a(r.table||r.debug,l,s,5)},get level(){return o},set level(e){o=e},get traceLevel(){return s},set traceLevel(e){s=e},enabled:d(e,{disabledRegexps:n,enabledRegexps:g})}};const i={error:1,warn:2,info:3,log:4,debug:5,trace:6};function d(e,{disabledRegexps:t,enabledRegexps:l}){if("*"===e[e.length-1])return!0;let o,s;for(o=0,s=t.length;o<s;o++)if(t[o].test(e))return!1;for(o=0,s=l.length;o<s;o++)if(l[o].test(e))return!0;return!1}function u(e,{disabledRegexps:t,enabledRegexps:l},o){const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(let o=0;o<r;o++)s[o]&&("-"===(e=s[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):l.push(new RegExp("^"+e+"$")));for(const e of Object.keys(c))o(e,d(e,{disabledRegexps:t,enabledRegexps:l}))}if(t.logs.level=2,t.logs.traceLevel=6,t.logs.setTraceLevelFor=(e,t)=>{u(e||"*",{disabledRegexps:[],enabledRegexps:[]},((e,l)=>{l&&(c[e].traceLevel=t)}))},t.logs.disable=()=>{n.splice(0,n.length),g.splice(0,g.length);for(const e of Object.keys(c))c[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.logs.enable=e=>{n.splice(0,n.length),g.splice(0,g.length),u(e=""===e?"*":e||"*",{disabledRegexps:n,enabledRegexps:g},((e,t)=>c[e].enabled=t));try{localStorage.setItem("debug",e)}catch(e){}},t.replaceConsole=function(e="console"){const l=t.logs(e);return s.console=Object.assign(Object.assign({},l),{clear:r.clear.bind(r),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,time:o,timeEnd:o,timeLog:o,timeStamp:o,profile:o,profileEnd:o}),r},t.hookup=function(){l.hook(t.logs)},"undefined"!=typeof localStorage)try{const e=localStorage.getItem("debug");e&&""!==e&&t.logs.enable(e)}catch(e){}else if("undefined"!=typeof process){let e=process.env.NAMED_LOGS;e?t.logs.enable(e):t.logs.disable(),e=process.env.NAMED_LOGS_LEVEL,e&&(t.logs.level=i[e]||parseInt(e)||t.logs.level),e=process.env.NAMED_LOGS_TRACE_LEVEL,e&&(t.logs.traceLevel=i[e]||parseInt(e)||t.logs.level)}const p=s.location?s.location.search.slice(1).split("&"):[];for(const e of p)if(e.startsWith("debug=")){const l=e.slice(6);""===l?t.logs.disable():t.logs.enable(l)}else if(e.startsWith("log=")){const l=e.slice(4);t.logs.level=i[l]||parseInt(l)||t.logs.level}else if(e.startsWith("trace=")){const l=e.slice(6);t.logs.traceLevel=i[l]||parseInt(l)||t.logs.level}}));