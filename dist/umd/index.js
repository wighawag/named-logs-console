!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.factory=void 0,t.replaceConsole=function(e="console"){const r=(0,t.factory)(e);return n.console=Object.assign(Object.assign({},r),{clear:l.clear.bind(l),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,timeStamp:o,profile:o,profileEnd:o}),l},t.hookup=function(){(0,r.hook)(t.factory)};const r=e("named-logs"),o=()=>{},n="undefined"!=typeof window?window:globalThis,l=n.console,a=[],c=[];function s(e,r,n,a,c){return r.enabled&&(r.level>=a||t.factory.level>=a)?n>=a||t.factory.traceLevel>=a?t.factory.labelVisible?r.decoration?l.trace.bind(l,r.namespace,r.decoration):l.trace.bind(l,r.namespace):l.trace.bind(l):c&&t.factory.labelVisible?r.decoration?e.bind(l,r.namespace,r.decoration):e.bind(l,r.namespace):e.bind(l):o}const i={};function d(e){process.stdout.write(e)}t.factory=(e,r)=>{let o=i[e];if(o)return o;let n=t.factory.level,f=t.factory.traceLevel;return o=i[e]={namespace:e,decoration:r,get assert(){return s(l.assert,o,f,1,!1)},get error(){return s(l.error,o,f,1,!0)},get warn(){return s(l.warn,o,f,2,!0)},get info(){return s(l.info,o,f,3,!0)},get write(){return"undefined"!=typeof process?s(d,o,f,3,!1):s(l.info,o,f,3,!1)},get log(){return s(l.log,o,f,4,!0)},get debug(){return s(l.debug,o,f,5,!0)},get trace(){return s(l.trace,o,f,6,!0)},get dir(){return s(l.dir,o,f,5,!1)},get table(){return s(l.table||l.debug,o,f,5,!1)},get time(){return s(l.time||l.debug,o,f,5,!1)},get timeEnd(){return s(l.timeEnd||l.debug,o,f,5,!1)},get timeLog(){return s(l.timeLog||l.debug,o,f,5,!1)},get level(){return n},set level(e){n=e},get traceLevel(){return f},set traceLevel(e){f=e},enabled:g(e,{disabledRegexps:a,enabledRegexps:c})}};const f={error:1,warn:2,info:3,log:4,debug:5,trace:6};function g(e,{disabledRegexps:t,enabledRegexps:r}){if("*"===e[e.length-1])return!0;let o,n;for(o=0,n=t.length;o<n;o++)if(t[o].test(e))return!1;for(o=0,n=r.length;o<n;o++)if(r[o].test(e))return!0;return!1}function u(e,{disabledRegexps:t,enabledRegexps:r},o){const n=("string"==typeof e?e:"").split(/[\s,]+/),l=n.length;for(let o=0;o<l;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):r.push(new RegExp("^"+e+"$")));for(const e of Object.keys(i))o(e,g(e,{disabledRegexps:t,enabledRegexps:r}))}if(t.factory.level=2,t.factory.traceLevel=6,t.factory.setTraceLevelFor=(e,t)=>{u(e||"*",{disabledRegexps:[],enabledRegexps:[]},(e,r)=>{r&&(i[e].traceLevel=t)})},t.factory.disable=()=>{a.splice(0,a.length),c.splice(0,c.length);for(const e of Object.keys(i))i[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.factory.enable=e=>{a.splice(0,a.length),c.splice(0,c.length),u(e=""===e?"*":e||"*",{disabledRegexps:a,enabledRegexps:c},(e,t)=>i[e].enabled=t);try{localStorage.setItem("debug",e)}catch(e){}},"undefined"!=typeof localStorage)try{const e=localStorage.getItem("debug");e&&""!==e&&t.factory.enable(e)}catch(e){}else if("undefined"!=typeof process){let e=process.env.NAMED_LOGS;e?t.factory.enable(e):t.factory.disable(),e=process.env.NAMED_LOGS_LEVEL,e&&(t.factory.level=f[e]||parseInt(e)||t.factory.level),e=process.env.NAMED_LOGS_TRACE_LEVEL,e&&(t.factory.traceLevel=f[e]||parseInt(e)||t.factory.level),e=process.env.NAMED_LOGS_LABEL,e&&(t.factory.labelVisible=!0)}const b=n.location?n.location.search.slice(1).split("&"):[];for(const e of b)if(e.startsWith("debug=")){const r=e.slice(6);""===r?t.factory.disable():t.factory.enable(r)}else if(e.startsWith("debugLevel=")){const r=e.slice(11);t.factory.level=f[r]||parseInt(r)||t.factory.level}else if(e.startsWith("traceLevel=")){const r=e.slice(11);t.factory.traceLevel=f[r]||parseInt(r)||t.factory.level}else e.startsWith("debugLabel")&&(t.factory.labelVisible=!0);"undefined"!=typeof window?window._logFactory=t.factory:"undefined"!=typeof global&&(global._logFactory=t.factory)});