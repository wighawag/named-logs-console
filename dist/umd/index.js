!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.factory=void 0,t.replaceConsole=function(e="console"){const r=(0,t.factory)(e);return n.console=Object.assign(Object.assign({},r),{clear:l.clear.bind(l),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,timeStamp:o,profile:o,profileEnd:o}),l},t.hookup=function(){(0,r.hook)(t.factory)},t.setupLogger=function(e,t){const r=f[e];r?y(r,t):i[e]=Object.assign({},t)};const r=e("named-logs"),o=()=>{},n="undefined"!=typeof window?window:globalThis,l=n.console,a=[],c=[];function s(e,r,n,a){if(r.enabled&&(void 0!==r.level?r.level>=n:t.factory.level>=n)){if(void 0!==r.traceLevel?r.traceLevel>=n:t.factory.traceLevel>=n){if(t.factory.labelVisible){const e="string"==typeof t.factory.labelVisible?`${t.factory.labelVisible}${r.namespace}`:r.namespace;return r.decoration?l.trace.bind(l,`%c${e}`,r.decoration):l.trace.bind(l,e)}return l.trace.bind(l)}if(a&&t.factory.labelVisible){const o="string"==typeof t.factory.labelVisible?`${t.factory.labelVisible}${r.namespace}`:r.namespace;return r.decoration?e.bind(l,`%c${o}`,r.decoration):e.bind(l,o)}return e.bind(l)}return o}const i={},f={};function d(e){process.stdout.write(e)}t.factory=(e,t)=>{let r,o,n=f[e];if(n)return n;n=f[e]={namespace:e,decoration:null==t?void 0:t.decoration,get assert(){return s(l.assert,n,1,!1)},get error(){return s(l.error,n,1,!0)},get warn(){return s(l.warn,n,2,!0)},get info(){return s(l.info,n,3,!0)},get write(){return"undefined"!=typeof process?s(d,n,3,!1):s(l.info,n,3,!1)},get log(){return s(l.log,n,3,!0)},get debug(){return s(l.debug,n,4,!0)},get trace(){return s(l.trace,n,5,!0)},get dir(){return s(l.dir,n,4,!1)},get table(){return s(l.table||l.debug,n,4,!1)},get time(){return s(l.time||l.debug,n,4,!1)},get timeEnd(){return s(l.timeEnd||l.debug,n,4,!1)},get timeLog(){return s(l.timeLog||l.debug,n,4,!1)},get level(){return r},set level(e){r=e},get traceLevel(){return o},set traceLevel(e){o=e},enabled:u(e,{disabledRegexps:a,enabledRegexps:c})};const g=i[e];return g&&(y(n,g),delete i[e]),n};const g={error:1,warn:2,info:3,debug:4,trace:5};function u(e,{disabledRegexps:t,enabledRegexps:r}){if("*"===e[e.length-1])return!0;let o,n;for(o=0,n=t.length;o<n;o++)if(t[o].test(e))return!1;for(o=0,n=r.length;o<n;o++)if(r[o].test(e))return!0;return!1}function b(e,{disabledRegexps:t,enabledRegexps:r},o){const n=("string"==typeof e?e:"").split(/[\s,]+/),l=n.length;for(let o=0;o<l;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):r.push(new RegExp("^"+e+"$")));for(const e of Object.keys(f))o(e,u(e,{disabledRegexps:t,enabledRegexps:r}))}if(t.factory.level=2,t.factory.traceLevel=0,t.factory.setTraceLevelFor=(e,t)=>{b(e||"*",{disabledRegexps:[],enabledRegexps:[]},(e,r)=>{r&&(f[e].traceLevel=t)})},t.factory.disable=()=>{a.splice(0,a.length),c.splice(0,c.length);for(const e of Object.keys(f))f[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.factory.enable=e=>{a.splice(0,a.length),c.splice(0,c.length),b(e=""===e?"*":e||"*",{disabledRegexps:a,enabledRegexps:c},(e,t)=>f[e].enabled=t);try{localStorage.setItem("debug",e)}catch(e){}},"undefined"!=typeof localStorage)try{const e=localStorage.getItem("debug");e&&""!==e&&t.factory.enable(e)}catch(e){}else if("undefined"!=typeof process){let e=process.env.NAMED_LOGS;e?t.factory.enable(e):t.factory.disable(),e=process.env.NAMED_LOGS_LEVEL,e&&(t.factory.level=g[e]||parseInt(e)||t.factory.level),e=process.env.NAMED_LOGS_TRACE_LEVEL,e&&(t.factory.traceLevel=g[e]||parseInt(e)||t.factory.level),e=process.env.NAMED_LOGS_LABEL,e&&(t.factory.labelVisible=!0)}const p=n.location?n.location.search.slice(1).split("&"):[];for(const e of p)if(e.startsWith("debug=")){const r=e.slice(6);""===r?t.factory.disable():t.factory.enable(r)}else if(e.startsWith("debugLevel=")){const r=e.slice(11);t.factory.level=g[r]||parseInt(r)||t.factory.level}else if(e.startsWith("traceLevel=")){const r=e.slice(11);t.factory.traceLevel=g[r]||parseInt(r)||t.factory.traceLevel}else if(e.startsWith("debugLabel")){const r=e.slice(11);t.factory.labelVisible=r||!0}function y(e,t){"level"in t&&(e.level=t.level),"traceLevel"in t&&(e.traceLevel=t.traceLevel)}"undefined"!=typeof window?window._logFactory=t.factory:"undefined"!=typeof global&&(global._logFactory=t.factory)});