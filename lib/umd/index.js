!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=t.replaceConsole=t.logs=void 0;const l=e("named-logs"),o=()=>{},r=window.console,s=[],n=[];function g(e,l,s,n){return l.enabled&&(l.level>=n||t.logs.level>=n)?s<=n||t.logs.traceLevel<=n?r.trace.bind(r):e.bind(r):o}const a={};t.logs=e=>{let l=a[e];if(l)return l;let o=t.logs.level,c=t.logs.traceLevel;return l=a[e]={get assert(){return g(r.assert,l,c,1)},get error(){return g(r.error,l,c,1)},get warn(){return g(r.warn,l,c,2)},get info(){return g(r.info,l,c,3)},get log(){return g(r.log,l,c,4)},get debug(){return g(r.debug,l,c,5)},get trace(){return g(r.trace,l,c,6)},get dir(){return g(r.dir,l,c,5)},get table(){return g(r.table||r.debug,l,c,5)},get level(){return o},set level(e){o=e},get traceLevel(){return c},set traceLevel(e){c=e},enabled:i(e,{disabledRegexps:s,enabledRegexps:n})}};const c={error:1,warn:2,info:3,log:4,debug:5,trace:6};function i(e,{disabledRegexps:t,enabledRegexps:l}){if("*"===e[e.length-1])return!0;let o,r;for(o=0,r=t.length;o<r;o++)if(t[o].test(e))return!1;for(o=0,r=l.length;o<r;o++)if(l[o].test(e))return!0;return!1}function d(e,{disabledRegexps:t,enabledRegexps:l},o){const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(let o=0;o<s;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):l.push(new RegExp("^"+e+"$")));for(const e of Object.keys(a))o(e,i(e,{disabledRegexps:t,enabledRegexps:l}))}t.logs.level=2,t.logs.traceLevel=6,t.logs.setTraceLevelFor=(e,t)=>{d(e||"*",{disabledRegexps:[],enabledRegexps:[]},(e,l)=>{l&&(a[e].traceLevel=t)})},t.logs.disable=()=>{s.splice(0,s.length),n.splice(0,n.length);for(const e of Object.keys(a))a[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.logs.enable=e=>{s.splice(0,s.length),n.splice(0,n.length),""===e&&(e="*"),d(e||"*",{disabledRegexps:s,enabledRegexps:n},(e,t)=>a[e].enabled=t);try{localStorage.setItem("debug",e||"*")}catch(e){}},t.replaceConsole=function(e="console"){const l=t.logs(e);return window.console=Object.assign(Object.assign({},l),{clear:r.clear.bind(r),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,time:o,timeEnd:o,timeLog:o,timeStamp:o,profile:o,profileEnd:o}),r},t.hookup=function(){l.hook(t.logs)};try{const e=localStorage.getItem("debug");e&&(r.log("enabling via local storage : "+e),t.logs.enable(e))}catch(e){}const u=location.search.slice(1).split("&");for(const e of u)if(e.startsWith("debug="))r.log("enabling via debug : "+e.slice(6)),t.logs.enable(e.slice(6));else if(e.startsWith("log=")){const l=e.slice(4);r.log("level via log= : "+l),t.logs.level=c[l]||parseInt(l)||t.logs.level}else if(e.startsWith("trace=")){const l=e.slice(6);r.log("trace via trace= : "+l),t.logs.traceLevel=c[l]||parseInt(l)||t.logs.level}}));