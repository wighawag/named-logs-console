!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","named-logs"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookup=t.replaceConsole=t.logs=void 0;const l=e("named-logs"),o=()=>{},s=window.console,r=[],n=[];function g(e,l,r,n){return l.enabled&&(l.level>=n||t.logs.level>=n)?r<=n||t.logs.traceLevel<=n?s.trace.bind(s):e.bind(s):o}const c={};t.logs=e=>{let l=c[e];if(l)return l;let o=t.logs.level,a=t.logs.traceLevel;return l=c[e]={get assert(){return g(s.assert,l,a,1)},get error(){return g(s.error,l,a,1)},get warn(){return g(s.warn,l,a,2)},get info(){return g(s.info,l,a,3)},get log(){return g(s.log,l,a,4)},get debug(){return g(s.debug,l,a,5)},get trace(){return g(s.trace,l,a,6)},get dir(){return g(s.dir,l,a,5)},get table(){return g(s.table||s.debug,l,a,5)},get level(){return o},set level(e){o=e},get traceLevel(){return a},set traceLevel(e){a=e},enabled:i(e,{disabledRegexps:r,enabledRegexps:n})}};const a={error:1,warn:2,info:3,log:4,debug:5,trace:6};function i(e,{disabledRegexps:t,enabledRegexps:l}){if("*"===e[e.length-1])return!0;let o,s;for(o=0,s=t.length;o<s;o++)if(t[o].test(e))return!1;for(o=0,s=l.length;o<s;o++)if(l[o].test(e))return!0;return!1}function d(e,{disabledRegexps:t,enabledRegexps:l},o){const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(let o=0;o<r;o++)s[o]&&("-"===(e=s[o].replace(/\*/g,".*?"))[0]?t.push(new RegExp("^"+e.substr(1)+"$")):l.push(new RegExp("^"+e+"$")));for(const e of Object.keys(c))o(e,i(e,{disabledRegexps:t,enabledRegexps:l}))}t.logs.level=2,t.logs.traceLevel=6,t.logs.setTraceLevelFor=(e,t)=>{d(e||"*",{disabledRegexps:[],enabledRegexps:[]},(e,l)=>{l&&(c[e].traceLevel=t)})},t.logs.disable=()=>{r.splice(0,r.length),n.splice(0,n.length);for(const e of Object.keys(c))c[e].enabled=!1;try{localStorage.removeItem("debug")}catch(e){}},t.logs.enable=e=>{r.splice(0,r.length),n.splice(0,n.length),d(e=""===e?"*":e||"*",{disabledRegexps:r,enabledRegexps:n},(e,t)=>c[e].enabled=t);try{localStorage.setItem("debug",e)}catch(e){}},t.replaceConsole=function(e="console"){const l=t.logs(e);return window.console=Object.assign(Object.assign({},l),{clear:s.clear.bind(s),count:o,countReset:o,dirxml:o,exception:o,group:o,groupCollapsed:o,groupEnd:o,time:o,timeEnd:o,timeLog:o,timeStamp:o,profile:o,profileEnd:o}),s},t.hookup=function(){l.hook(t.logs)};try{const e=localStorage.getItem("debug");e&&""!==e&&t.logs.enable(e)}catch(e){}const u=location.search.slice(1).split("&");for(const e of u)if(e.startsWith("debug=")){const l=e.slice(6);""===l?t.logs.disable():t.logs.enable(l)}else if(e.startsWith("log=")){const l=e.slice(4);t.logs.level=a[l]||parseInt(l)||t.logs.level}else if(e.startsWith("trace=")){const l=e.slice(6);t.logs.traceLevel=a[l]||parseInt(l)||t.logs.level}}));